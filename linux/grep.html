<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>Vinhson notes | linux 三剑客 </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    

    <!-- fonts -->
    <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Ubuntu:300,400,500,600,700" rel="stylesheet">

    <!-- stylesheets -->
    <link rel="stylesheet" href="/notes/style/doc.css">

    <!-- favicon -->
    <link rel="icon" href="/notes/images/favicon.ico">

    

  <meta name="generator" content="Hexo 6.3.0"></head>
  <body>

   <script>window.__INITIAL_STATE__ = {"page":{"title":"linux 三剑客","path":"linux/grep.html"},"data":{"navigation":{"logo":{"text":"My Notes","type":"link","path":"index.html"},"main":[{"text":"首页","type":"link","path":"index.html"},{"text":"工作技巧","type":"link","path":"md/备忘录.html"},{"text":"PHP","type":"label"},{"text":"中文","type":"link","path":"php/中文.html"},{"text":"GO","type":"label"},{"text":"常见的低级错误","type":"link","path":"go/常见的低级错误.html"},{"text":"开源包收集","type":"link","path":"go/开源包收集.html"},{"text":"Python","type":"label"},{"text":"让 Python 在 HTML 中运行","type":"link","path":"Py/让Python在HTML中运行.html"},{"text":"Mysql","type":"label"},{"text":"中文","type":"link","path":"mysql/中文.html"},{"text":"Linux","type":"label"},{"text":"oh my zsh","type":"link","path":"linux/oh_my_zsh.html"},{"text":"command not found ifconfig","type":"link","path":"linux/ipconfig.html"},{"text":"Window10主机访问WSL子系统网络服务","type":"link","path":"linux/从window访问wsl地址.html"},{"text":"linux 三剑客","type":"link","path":"linux/grep.html"},{"text":"docker","type":"label"},{"text":"安装 docker","type":"label","children":[{"text":"Docker version 17.09.0","type":"link","path":"docker/docker 安装.html"},{"text":"Docker version 20.10.21","type":"link","path":"docker/docker-v2 安装.html"}]},{"text":"卸载 docker","type":"link","path":"docker/docker 卸载.html"},{"text":"安装 docker-compose","type":"link","path":"docker/docker-compose 安装.html"},{"text":"docker-compose中nginx可以访问html无法访问php 提示File not found","type":"link","path":"docker/File not found.html"},{"text":"docker 多阶构建","type":"link","path":"docker/docker 多阶构建.html"},{"text":"docker 容器无法访问外网","type":"link","path":"docker/docker 容器无法访问外网.html"},{"text":"elasticsearch","type":"label"},{"text":"中文","type":"link","path":"elasticsearch/中文.html"},{"text":"ubuntu","type":"label"},{"text":"安装 Minikube","type":"link","path":"ubuntu/安装 Minikube.html"}]}},"config":{"timezone":"","root":"/notes/","time_format":"HH:mm:ss","theme":"doc","theme_config":{"swagger_ui":{"version":2,"permalinks":true,"api_explorer":true,"download":"Download specification","show_extensions":false,"deep_linking":true,"display_operation_id":false,"doc_expansion":"none"},"search":{"skip":false,"background":false,"route":"/lunr.json"},"favicon":"images/favicon.ico"}}}</script>

    <div id="react-navigation-root"><div class="doc-navigation" data-reactroot=""><nav class="doc-navbar"><a href="/notes/index.html" class="doc-navbar__logo"><img src="/notes/images/logo.png" class="doc-navbar__logo__img"/><span class="doc-navbar__logo__text">My Notes</span></a><i class="dc-icon dc-icon--close dc-icon--interactive doc-sidebar-close doc-navbar__sidebar-close doc-navbar__sidebar-close--desktop"></i><i class="dc-icon dc-icon--menu dc-icon--interactive doc-sidebar-toggle doc-navbar__sidebar-toggle"></i></nav><nav class="doc-sidebar"><div class="doc-sidebar__vertical-menu"><i class="dc-icon dc-icon--menu dc-icon--interactive doc-sidebar-toggle doc-sidebar-toggle--primary doc-sidebar__vertical-menu__item"></i><i class="dc-icon dc-icon--search dc-icon--interactive doc-sidebar__vertical-menu__item doc-sidebar__vertical-menu__item--primary"></i></div><div class="doc-sidebar-content"><div class="doc-sidebar__search-form"></div><ul class="doc-sidebar-list"></ul></div></nav></div></div>
    <div class="doc-content">
  <div class="dc-page">
    <div class="dc-card">
      <div id="react-search-results-root"></div>
      <div id="page-content" class="doc-formatting">
        <h1 id="三剑客"><a href="#三剑客" class="headerlink" title="三剑客"></a>三剑客</h1><blockquote>
<p>grep 对文本内容进行过滤 筛选<br>sed 流编译器，对文件或是数据流进行加工处理<br>awk 格式化输出</p>
</blockquote>
<h1 id="1、grep"><a href="#1、grep" class="headerlink" title="1、grep"></a>1、grep</h1><table>
<thead>
<tr>
<th align="left">指令</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-n</td>
<td align="left">显示行数</td>
</tr>
<tr>
<td align="left">-i</td>
<td align="left">不区分大小写</td>
</tr>
<tr>
<td align="left">-v</td>
<td align="left">根据搜索条件取反</td>
</tr>
<tr>
<td align="left">-c</td>
<td align="left">统计总和</td>
</tr>
<tr>
<td align="left">-o</td>
<td align="left">只显示匹配到的内容</td>
</tr>
</tbody></table>
<h2 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h2><table>
<thead>
<tr>
<th align="left">指令</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">.</td>
<td align="left">匹配任意的一个且只有一个字符、不能匹配空行</td>
</tr>
<tr>
<td align="left">*</td>
<td align="left">匹配前一个字符0次或1次以上，重复0次表示空，即匹配所有内容</td>
</tr>
<tr>
<td align="left">.*</td>
<td align="left">组合符，匹配所有内容</td>
</tr>
<tr>
<td align="left">^</td>
<td align="left">匹配以什么开始</td>
</tr>
<tr>
<td align="left">^$</td>
<td align="left">匹配空行</td>
</tr>
<tr>
<td align="left">$</td>
<td align="left">匹配以什么结束</td>
</tr>
</tbody></table>
<h1 id="egrep-扩展正则（grep-E-相同）"><a href="#egrep-扩展正则（grep-E-相同）" class="headerlink" title="egrep 扩展正则（grep -E 相同）"></a>egrep 扩展正则（grep -E 相同）</h1><h2 id="表达式-1"><a href="#表达式-1" class="headerlink" title="表达式"></a>表达式</h2><table>
<thead>
<tr>
<th align="left">指令</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">+</td>
<td align="left">表示匹配前一个字符1次或多次</td>
</tr>
<tr>
<td align="left">?</td>
<td align="left">表示匹配前一个字符0次或1次</td>
</tr>
<tr>
<td align="left">()</td>
<td align="left">将一个或多个字符绑定到一起，当做一个整体进行处理</td>
</tr>
</tbody></table>
<h1 id="2、sed"><a href="#2、sed" class="headerlink" title="2、sed"></a>2、sed</h1><blockquote>
<p>语法：sed [选项] [sed内置命令符号] [输入文件]</p>
</blockquote>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-n</td>
<td align="left">取消默认 sed 的输出，常与 sed 内置命令 p 一起使用</td>
</tr>
<tr>
<td align="left">-i</td>
<td align="left">直接将修改结果写入文件，不用 -i、sed 修改的是内存数据</td>
</tr>
<tr>
<td align="left">-e</td>
<td align="left">多次编辑，不需要管道符了</td>
</tr>
<tr>
<td align="left">-r</td>
<td align="left">支持正则扩展</td>
</tr>
</tbody></table>
<p>内置命令字符</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">a</td>
<td align="left">多文本追加，在指定文本前</td>
</tr>
<tr>
<td align="left">d</td>
<td align="left">删除匹配的行</td>
</tr>
<tr>
<td align="left">i</td>
<td align="left">表示插入文本，在指定行前添加一行&#x2F;多行文本</td>
</tr>
<tr>
<td align="left">p</td>
<td align="left">打印匹配的内容</td>
</tr>
<tr>
<td align="left">s&#x2F;正则&#x2F;替换内容&#x2F;g</td>
<td align="left">正则匹配内容，然后替换内容，结尾g代表全局匹配</td>
</tr>
</tbody></table>
<h2 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h2><p>1、打印 2-3 行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed <span class="string">&quot;2,3p&quot;</span> a.txt -n // p:表示打印 -n:表示取消默认输出</span><br></pre></td></tr></table></figure>

<p>2、从第2换行开始向下打印3行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed <span class="string">&quot;2,+3p&quot;</span> a.txt -n</span><br></pre></td></tr></table></figure>

<p>3、过滤出含有 <code>linux</code> 的字符串</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed <span class="string">&quot;/linux/p&quot;</span> a.txt -n</span><br></pre></td></tr></table></figure>

<p>4、删除含有 <code>linux</code> 的行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed <span class="string">&quot;/linux/d&quot;</span> a.txt</span><br></pre></td></tr></table></figure>

<p>5、M 替换 i</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed <span class="string">&quot;s/M/i/g&quot;</span> a.txt</span><br></pre></td></tr></table></figure>

<p>6、多次替换</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -e <span class="string">&quot;s/A/a/g&quot;</span> -e <span class="string">&quot;s/B/b/g&quot;</span> a.txt -i // -i 写入文件</span><br></pre></td></tr></table></figure>

<p>7、在第 <code>n</code> 行 添加数据</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed <span class="string">&quot;na abcd&quot;</span> a.txt -i // 注意这里的 na n:表示第几行 a:表示追加</span><br></pre></td></tr></table></figure>

<h1 id="3、awk"><a href="#3、awk" class="headerlink" title="3、awk"></a>3、awk</h1><blockquote>
<p>语法：awk [可选参数option] ‘pattern[action]’ file    </p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk &#123;<span class="built_in">print</span> <span class="variable">$1</span>&#125; // <span class="variable">$1</span> 表示第一列 <span class="variable">$0</span> 表示一整行 默认使用空格分割</span><br></pre></td></tr></table></figure>

<h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-F</td>
<td align="left">指定分隔符</td>
</tr>
<tr>
<td align="left">-v</td>
<td align="left">定义或修改一个 awk 内部的变量</td>
</tr>
<tr>
<td align="left">-f</td>
<td align="left">从脚本文件中读取awk命令</td>
</tr>
</tbody></table>
<h2 id="demo-1"><a href="#demo-1" class="headerlink" title="demo"></a>demo</h2><blockquote>
<p>NR 在 awk 中表示行号<br>NF 字段数量的意思</p>
</blockquote>
<p>1、显示文件第五至六行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk <span class="string">&#x27;NR==5,NR==6&#123;print $0&#125;&#x27;</span> a.txt</span><br></pre></td></tr></table></figure>

<p>2、倒数第二列</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk <span class="string">&#x27;&#123;print $1,$(NF-1)&#125;&#x27;</span> a.txt</span><br></pre></td></tr></table></figure>
        <div id="react-support-footer-root"></div>
      </div>
    </div>
  </div>
</div>

    


    

    <!-- js vendors -->
    <script src="//code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/lunr.js/2.1.0/lunr.min.js"></script>

    <!-- js source  -->
    <script src="/notes/script/doc.js"></script>

    

  </body>
</html>
